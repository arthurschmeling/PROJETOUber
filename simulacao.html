<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Simulador de Corrida - Uber</title>
</head>

<body>
    <header class="hero">
        <div class="container">
            <div class="header-logo">
                <img src="assets/img/logo2.0.png" alt="cuBer Logo" class="logo-img">
            </div>
            <h1>Simulador de Corrida</h1>
            <p class="lead">Calcule o pre√ßo de sua corrida informando origem, destino e condi√ß√µes</p>
            
            <nav class="main-nav" aria-label="Navega√ß√£o principal">
              <a href="index.html" class="nav-btn">In√≠cio</a>
                <a href="detalhes.html" class="nav-btn">Entenda como funciona</a>
                <a href="parte-logica.html" class="nav-btn active">Parte l√≥gica</a>
                <a href="sobreNos.html" class="nav-btn active">Criadores do site</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="simulador-section">
            <div class="simulador-card">
                <h2>Calcule sua corrida</h2>
                <p class="simulador-desc">Digite os endere√ßos e selecione as condi√ß√µes para obter uma estimativa realista do pre√ßo considerando clima, tr√¢nsito, hor√°rio e dia da semana.</p>

                <form class="simulador-form" id="simuladorForm">
                    <!-- Se√ß√£o de Localiza√ß√£o -->
                    <div class="form-section">
                        <h3 class="section-title">üìç Localiza√ß√£o</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="origem">Endere√ßo de Origem</label>
                                <input type="text" id="origem" placeholder="Ex: Av. Paulista, S√£o Paulo" required>
                                <small>Digite um endere√ßo completo ou uma rua conhecida</small>
                            </div>

                            <div class="form-divider-vertical">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <polyline points="19 12 12 19 5 12"></polyline>
                                </svg>
                            </div>

                            <div class="form-group">
                                <label for="destino">Endere√ßo de Destino</label>
                                <input type="text" id="destino" placeholder="Ex: Museu do Ipiranga, S√£o Paulo" required>
                                <small>Digite um endere√ßo completo ou uma rua conhecida</small>
                            </div>
                        </div>
                    </div>

                    <!-- Se√ß√£o de Condi√ß√µes de Tr√¢nsito -->
                    <div class="form-section">
                        <h3 class="section-title">üöó Condi√ß√µes de Tr√¢nsito</h3>
                        <div class="form-group-options">
                            <label>N√≠vel de Tr√¢nsito:</label>
                            <div class="options-grid">
                                <label class="option-item">
                                    <input type="radio" name="transito" value="baixo" checked>
                                    <span class="option-label">
                                        <span class="option-icon">üü¢</span>
                                                <span class="option-text">
                                                    <strong>Tranquilo</strong>
                                                    <small>Multiplicador: x0.9</small>
                                                </span>
                                    </span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="transito" value="normal">
                                    <span class="option-label">
                                        <span class="option-icon">üü°</span>
                                        <span class="option-text">
                                            <strong>Normal</strong>
                                            <small>Multiplicador: x1.0</small>
                                        </span>
                                    </span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="transito" value="intenso">
                                    <span class="option-label">
                                        <span class="option-icon">üî¥</span>
                                        <span class="option-text">
                                            <strong>Intenso</strong>
                                            <small>Multiplicador: x1.2</small>
                                        </span>
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Se√ß√£o de Clima -->
                    <div class="form-section">
                        <h3 class="section-title">‚òÄÔ∏è Condi√ß√µes Clim√°ticas</h3>
                        <div class="form-group-options">
                            <label>Estado do Clima:</label>
                            <div class="options-grid">
                                <label class="option-item">
                                    <input type="radio" name="clima" value="bom" checked>
                                    <span class="option-label">
                                        <span class="option-icon">‚òÄÔ∏è</span>
                                        <span class="option-text">
                                            <strong>Bom</strong>
                                            <small>Multiplicador: x1.0</small>
                                        </span>
                                    </span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="clima" value="nublado">
                                    <span class="option-label">
                                        <span class="option-icon">‚òÅÔ∏è</span>
                                        <span class="option-text">
                                            <strong>Nublado</strong>
                                            <small>Multiplicador: x1.05</small>
                                        </span>
                                    </span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="clima" value="chuva">
                                    <span class="option-label">
                                        <span class="option-icon">üåßÔ∏è</span>
                                        <span class="option-text">
                                            <strong>Chuva/Tempestade</strong>
                                            <small>Multiplicador: x1.2</small>
                                        </span>
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Se√ß√£o de Hor√°rio -->
                    <div class="form-section">
                        <h3 class="section-title">‚è∞ Hor√°rio da Corrida</h3>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label for="hora">Hora:</label>
                                <div style="display:flex;gap:8px;align-items:center">
                                    <input type="time" id="hora" required>
                                    <input type="text" id="hora_text" placeholder="HH:MM" style="display:none;min-width:120px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);color:var(--accent)" />
                                    <button type="button" id="toggleHora" class="btn" style="padding:6px 10px;font-size:0.9rem">Escrever</button>
                                </div>
                                <small>Selecione ou escreva o hor√°rio da corrida</small>
                            </div>
                            <div class="form-group">
                                <label for="dia">Dia da Semana:</label>
                                <select id="dia" required>
                                    <option value="segunda">Segunda-feira (x1.0)</option>
                                    <option value="terca">Ter√ßa-feira (x1.0)</option>
                                    <option value="quarta">Quarta-feira (x1.0)</option>
                                    <option value="quinta">Quinta-feira (x1.0)</option>
                                    <option value="sexta">Sexta-feira (x1.2)</option>
                                    <option value="sabado">S√°bado (x1.3)</option>
                                    <option value="domingo">Domingo (x1.4)</option>
                                </select>
                                <small>Fins de semana t√™m pre√ßos mais altos</small>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">
                        <span class="btn-icon">üöó</span>
                        Calcular Corrida
                    </button>
                </form>

                <div id="resultado" class="resultado-container"></div>
            </div>

            <!-- Cards informativos -->
            <div class="info-cards-grid">
                <div class="info-card">
                    <div class="info-icon">üí∞</div>
                    <h4>Pre√ßo Base</h4>
                    <p>R$ 4,00</p>
                    <small>Valor inicial da corrida</small>
                </div>
                <div class="info-card">
                    <div class="info-icon">üìè</div>
                    <h4>Pre√ßo por KM</h4>
                    <p>R$ 0,80</p>
                    <small>Custo por quil√¥metro rodado</small>
                </div>
                <div class="info-card">
                    <div class="info-icon">üìà</div>
                    <h4>Multiplicadores</h4>
                    <p>Vari√°veis</p>
                    <small>Clima, tr√¢nsito, hora e dia</small>
                </div>
                <div class="info-card">
                    <div class="info-icon">‚è±Ô∏è</div>
                    <h4>Tempo Real</h4>
                    <p>Estimado</p>
                    <small>Baseado no trajeto</small>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Explica√ß√£o de Fatores -->
        <section class="fatores-section">
            <h2>Como cada fator afeta o pre√ßo</h2>
            <div class="fatores-grid">
                <div class="fator-card">
                    <div class="fator-icon">üöó</div>
                    <h3>Tr√¢nsito</h3>
                    <ul class="fator-list">
                        <li>üü¢ <strong>Tranquilo:</strong> x0.9 (10% desconto)</li>
                        <li>üü° <strong>Normal:</strong> x1.0 (pre√ßo padr√£o)</li>
                        <li>üî¥ <strong>Intenso:</strong> x1.2 (20% acr√©scimo)</li>
                    </ul>
                </div>

                <div class="fator-card">
                    <div class="fator-icon">‚òÄÔ∏è</div>
                    <h3>Clima</h3>
                    <ul class="fator-list">
                        <li>‚òÄÔ∏è <strong>Bom:</strong> x1.0 (padr√£o)</li>
                        <li>‚òÅÔ∏è <strong>Nublado:</strong> x1.05 (5% acr√©scimo)</li>
                        <li>üåßÔ∏è <strong>Chuva:</strong> x1.2 (20% acr√©scimo)</li>
                    </ul>
                </div>

                <div class="fator-card">
                    <div class="fator-icon">‚è∞</div>
                    <h3>Hor√°rio</h3>
                    <ul class="fator-list">
                        <li>üåÖ <strong>06h-09h:</strong> x1.2 (pico matinal)</li>
                        <li>üåÑ <strong>09h-17h:</strong> x1.0 (normal)</li>
                        <li>üåÜ <strong>17h-20h:</strong> x1.3 (pico vespertino)</li>
                        <li>üåô <strong>20h-06h:</strong> x1.5 (noturno/madrugada)</li>
                    </ul>
                </div>

                <div class="fator-card">
                    <div class="fator-icon">üìÖ</div>
                    <h3>Dia da Semana</h3>
                    <ul class="fator-list">
                        <li>üìä <strong>Seg-Qui:</strong> x1.0 (padr√£o)</li>
                        <li>üéâ <strong>Sexta:</strong> x1.2 (in√≠cio weekend)</li>
                        <li>üéä <strong>S√°bado:</strong> x1.3 (fim de semana)</li>
                        <li>üò¥ <strong>Domingo:</strong> x1.4 (descanso dos motoristas)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Exemplo -->
        <section class="exemplo-section">
            <h2>Exemplo de C√°lculo</h2>
            <div class="exemplo-box">
                <div class="exemplo-item">
                    <span class="exemplo-label">Dist√¢ncia:</span>
                    <span class="exemplo-valor">5 km</span>
                </div>
                <div class="exemplo-calculo">
                    <span>=</span>
                </div>
                <div class="exemplo-calculo">
                    <span>+</span>
                </div>
                <div class="exemplo-calculo">
                    <span>=</span>
                </div>
                <div class="exemplo-calculo">
                    <span>√ó</span>
                </div>
                <div class="exemplo-calculo">
                    <span>=</span>
                </div>
                <div class="exemplo-item">
                    <span class="exemplo-label">Pre√ßo Base:</span>
                    <span class="exemplo-valor">R$ 5,00</span>
                </div>
                            <div class="exemplo-item">
                                <span class="exemplo-label">(R$ 1,80 √ó 5 km):</span>
                                <span class="exemplo-valor">R$ 9,00</span>
                            </div>
                            <div class="exemplo-item">
                                <span class="exemplo-label">Subtotal:</span>
                                <span class="exemplo-valor">R$ 14,00</span>
                            </div>
                            <div class="exemplo-item">
                                <span class="exemplo-label">Multiplicadores:</span>
                                <span class="exemplo-valor">1.97</span>
                                <small>(0.9 √ó 1.2 √ó 1.3 √ó 1.4)</small>
                            </div>
                            <div class="exemplo-item exemplo-final">
                                <span class="exemplo-label">Pre√ßo Final:</span>
                                <span class="exemplo-valor">R$ 27,52</span>
                            </div>
            </div>
        </section>

        <!-- Se√ß√£o de FAQ -->
        <section class="faq-section">
            <h2>Perguntas Frequentes</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Por que o pre√ßo √© mais caro √† noite?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>√Ä noite e madrugada h√° menos motoristas dispon√≠veis, ent√£o a demanda √© maior. O Uber usa pre√ßo din√¢mico (surge pricing) para incentivar mais motoristas a trabalhar nesses per√≠odos, aumentando o pre√ßo em at√© 50%.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Por que domingo √© mais caro?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>No domingo, muitos motoristas descansam ou reduzem sua jornada, diminuindo a oferta. Com menos motoristas dispon√≠veis e mesma demanda, o pre√ßo sobe em at√© 40% para manter o servi√ßo funcionando.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Chuva realmente aumenta o pre√ßo?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>Sim! Em dias de chuva, a demanda sobe porque as pessoas preferem Uber ao inv√©s de transporte p√∫blico. Al√©m disso, o tr√¢nsito costuma ficar mais intenso, aumentando o tempo de viagem. Tudo isso resulta em pre√ßos at√© 50% mais altos.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Os multiplicadores se acumulam?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>Sim! Todos os multiplicadores s√£o multiplicados entre si. Por exemplo: tr√¢nsito (1.5) √ó clima (1.5) √ó hor√°rio (1.5) √ó dia (1.4) = 4.73x o pre√ßo base. √â por isso que uma corrida domingo √† noite com chuva e tr√¢nsito intenso fica t√£o cara.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Consigo ter desconto no tr√¢nsito tranquilo?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>Sim! Quando o tr√¢nsito est√° muito tranquilo (fora dos hor√°rios de pico), voc√™ recebe um desconto de 20%, j√° que o motorista consegue fazer a corrida mais r√°pido e de forma mais eficiente.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Links para outras p√°ginas -->
        <section class="links-section">
            <h2>Quer saber mais?</h2>
            <div class="links-grid">
                <a href="detalhes.html" class="link-card">
                    <div class="link-icon">üìñ</div>
                    <h3>Como funciona o Uber</h3>
                    <p>Entenda a explica√ß√£o completa e detalhada</p>
                    <span class="link-arrow">‚Üí</span>
                </a>
                <a href="parte-logica.html" class="link-card">
                    <div class="link-icon">‚öôÔ∏è</div>
                    <h3>Parte t√©cnica</h3>
                    <p>An√°lise l√≥gica e c√≥digo por tr√°s</p>
                    <span class="link-arrow">‚Üí</span>
                </a>
                <a href="index.html" class="link-card">
                    <div class="link-icon">üè†</div>
                    <h3>Voltar ao in√≠cio</h3>
                    <p>Retornar √† p√°gina principal</p>
                    <span class="link-arrow">‚Üí</span>
                </a>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">&copy; 2025 ‚Äî Simulador de Corrida Uber - Explica√ß√£o did√°tica.</div>
    </footer>

    <script>
        // FAQ interativo
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', function() {
                const faqItem = this.parentElement;
                faqItem.classList.toggle('active');
            });
        });

        // Abrir primeira FAQ por padr√£o
        const firstFaqItem = document.querySelector('.faq-item');
        if (firstFaqItem) {
            firstFaqItem.classList.add('active');
        }

        // Definir hora atual por padr√£o e preparar toggle para entrada manual
        const horaInput = document.getElementById('hora');
        const horaText = document.getElementById('hora_text');
        const toggleHoraBtn = document.getElementById('toggleHora');
        const agora = new Date();
        const horas = String(agora.getHours()).padStart(2, '0');
        const minutos = String(agora.getMinutes()).padStart(2, '0');
        horaInput.value = `${horas}:${minutos}`;
        horaText.value = `${horas}:${minutos}`;

        // Alterna entre sele√ß√£o e escrita manual do hor√°rio
        toggleHoraBtn.addEventListener('click', function() {
            const isTextShown = horaText.style.display !== 'none';
            if (isTextShown) {
                // voltar para time picker
                horaText.style.display = 'none';
                horaInput.style.display = '';
                toggleHoraBtn.textContent = 'Escrever';
            } else {
                // mostrar campo de texto
                horaText.style.display = '';
                horaInput.style.display = 'none';
                toggleHoraBtn.textContent = 'Usar seletor';
            }
        });

        // Geocode usando Nominatim
        async function geocode(endereco) {
            try {
                const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(endereco)}`;
                const res = await fetch(url);
                const data = await res.json();

                if (data.length === 0) return null;

                return {
                    lat: data[0].lat,
                    lon: data[0].lon
                };
            } catch (error) {
                console.error('Erro ao geocodificar:', error);
                return null;
            }
        }

        // Calcular rota usando OSRM
        async function calcularRota(origem, destino) {
            try {
                const url = `https://router.project-osrm.org/route/v1/driving/${origem.lon},${origem.lat};${destino.lon},${destino.lat}?overview=false`;
                const res = await fetch(url);
                const data = await res.json();

                if (!data.routes || data.routes.length === 0) {
                    return null;
                }

                const rota = data.routes[0];

                return {
                    distancia_km: rota.distance / 1000,
                    duracao_min: rota.duration / 60
                };
            } catch (error) {
                console.error('Erro ao calcular rota:', error);
                return null;
            }
        }

        // Calcular multiplicador de hor√°rio
        function calcularMultiplicadorHorario(hora) {
            const [horas, minutos] = hora.split(':').map(Number);
            const totalMinutos = horas * 60 + minutos;
            // definir multiplicador base por faixa
            let mult;
            if (totalMinutos >= 360 && totalMinutos < 540) mult = 1.2; // pico matinal
            else if (totalMinutos >= 540 && totalMinutos < 1020) mult = 1.0; // normal
            else if (totalMinutos >= 1020 && totalMinutos < 1200) mult = 1.3; // pico vespertino
            else mult = 1.5; // noturno/madrugada

            // n√£o permitir multiplicadores que aumentem o pre√ßo
            return Math.min(mult, 1.0);
        }

        // Calcular multiplicador de dia
        function calcularMultiplicadorDia(dia) {
            const multiplicadores = {
                'segunda': 1.0,
                'terca': 1.0,
                'quarta': 1.0,
                'quinta': 1.0,
                'sexta': 1.12,
                'sabado': 1.18,
                'domingo': 1.25
            };
            const mult = multiplicadores[dia] || 1.0;
            return mult;
        }

        // Calcular multiplicador de clima
        function calcularMultiplicadorClima(clima) {
            const multiplicadores = {
                'bom': 1.0,
                'nublado': 1.03,
                'chuva': 1.12
            };
            const mult = multiplicadores[clima] || 1.0;
            return mult;
        }

        // Calcular multiplicador de tr√¢nsito
        function calcularMultiplicadorTransito(transito) {
            const multiplicadores = {
                'baixo': 0.9,
                'normal': 1.0,
                'intenso': 1.2
            };
            const mult = multiplicadores[transito] || 1.0;
            return Math.min(mult, 1.0);
        }

        // Calcular pre√ßo (valores ajustados)
        function calcularPreco(distancia, multiplicadorTotal) {
            const precoBase = 5.00;
            const precoPorKm = 1.80;
            const subtotal = precoBase + (precoPorKm * distancia);
            return subtotal * multiplicadorTotal;
        }

        // Obter descri√ß√£o do hor√°rio
        function getDescricaoHorario(hora, multiplicador) {
            const [horas] = hora.split(':').map(Number);

            if (horas >= 6 && horas < 9) return 'üåÖ Pico Matinal';
            if (horas >= 9 && horas < 17) return 'üåÑ Normal';
            if (horas >= 17 && horas < 20) return 'üåÜ Pico Vespertino';
            return 'üåô Noturno/Madrugada';
        }

        // Simular corrida
        async function simular(e) {
            e.preventDefault();

            const origemTxt = document.getElementById("origem").value.trim();
            const destinoTxt = document.getElementById("destino").value.trim();
            const transito = document.querySelector('input[name="transito"]:checked').value;
            const clima = document.querySelector('input[name="clima"]:checked').value;
            // obter hora do campo vis√≠vel (time picker ou campo escrito)
            const horaPicker = document.getElementById('hora');
            const horaText = document.getElementById('hora_text');
            let hora = '';
            if (horaText && horaText.style.display !== 'none' && horaText.value.trim() !== '') {
                hora = horaText.value.trim();
            } else if (horaPicker) {
                hora = horaPicker.value;
            }
            // validar formato HH:MM
            if (!/^\d{1,2}:\d{2}$/.test(hora)) {
                resultadoDiv.innerHTML = '<div class="erro">Por favor, informe um hor√°rio v√°lido no formato HH:MM.</div>';
                return;
            }
            const dia = document.getElementById("dia").value;
            const resultadoDiv = document.getElementById("resultado");

            if (!origemTxt || !destinoTxt) {
                resultadoDiv.innerHTML = '<div class="erro">Por favor, preencha origem e destino.</div>';
                return;
            }

            resultadoDiv.innerHTML = '<div class="carregando"><span class="spinner"></span> Calculando...</div>';

            const origem = await geocode(origemTxt);
            const destino = await geocode(destinoTxt);

            if (!origem || !destino) {
                resultadoDiv.innerHTML = '<div class="erro">‚ùå Erro: n√£o foi poss√≠vel localizar os endere√ßos. Tente ser mais espec√≠fico.</div>';
                return;
            }

            const rota = await calcularRota(origem, destino);

            if (!rota) {
                resultadoDiv.innerHTML = '<div class="erro">‚ùå Erro: n√£o foi poss√≠vel calcular a rota entre os pontos.</div>';
                return;
            }

            // Calcular multiplicadores
            const multTransito = calcularMultiplicadorTransito(transito);
            const multClima = calcularMultiplicadorClima(clima);
            const multHorario = calcularMultiplicadorHorario(hora);
            const multDia = calcularMultiplicadorDia(dia);
            const multiplicadorTotal = multTransito * multClima * multHorario * multDia;

            const precoBase = 5.00;
            const precoPorKm = 1.80;
            const subtotal = precoBase + (precoPorKm * rota.distancia_km);
            const precoFinal = calcularPreco(rota.distancia_km, multiplicadorTotal);

            // Mapear dia para nome
            const diasNome = {
                'segunda': 'Segunda-feira',
                'terca': 'Ter√ßa-feira',
                'quarta': 'Quarta-feira',
                'quinta': 'Quinta-feira',
                'sexta': 'Sexta-feira',
                'sabado': 'S√°bado',
                'domingo': 'Domingo'
            };

            // Mapear clima para √≠cone
            const climasNome = {
                'bom': '‚òÄÔ∏è Bom',
                'nublado': '‚òÅÔ∏è Nublado',
                'chuva': 'üåßÔ∏è Chuva/Tempestade'
            };

            // Mapear tr√¢nsito para √≠cone
            const transitoNome = {
                'baixo': 'üü¢ Tranquilo',
                'normal': 'üü° Normal',
                'intenso': 'üî¥ Intenso'
            };

            resultadoDiv.innerHTML = `
                <div class="resultado">
                    <h3>‚úÖ Resultado da Corrida</h3>
                    
                    <div class="resultado-detalhes">
                        <h4>üìä Dados da Rota</h4>
                        <div class="resultado-grid">
                            <div class="resultado-item">
                                <span class="resultado-label">üìè Dist√¢ncia</span>
                                <span class="resultado-valor">${rota.distancia_km.toFixed(2)} km</span>
                            </div>
                            <div class="resultado-item">
                                <span class="resultado-label">‚è±Ô∏è Tempo estimado</span>
                                <span class="resultado-valor">${Math.round(rota.duracao_min)} min</span>
                            </div>
                        </div>
                    </div>

                    <div class="resultado-detalhes">
                        <h4>üéØ Condi√ß√µes Selecionadas</h4>
                        <div class="resultado-grid">
                            <div class="resultado-item">
                                <span class="resultado-label">Clima</span>
                                <span class="resultado-valor">${climasNome[clima]} (x${multClima})</span>
                            </div>
                            <div class="resultado-item">
                                <span class="resultado-label">Tr√¢nsito</span>
                                <span class="resultado-valor">${transitoNome[transito]} (x${multTransito})</span>
                            </div>
                            <div class="resultado-item">
                                <span class="resultado-label">Hor√°rio</span>
                                <span class="resultado-valor">${getDescricaoHorario(hora, multHorario)} (x${multHorario})</span>
                            </div>
                            <div class="resultado-item">
                                <span class="resultado-label">Dia</span>
                                <span class="resultado-valor">${diasNome[dia]} (x${multDia})</span>
                            </div>
                        </div>
                    </div>

                    <div class="resultado-detalhes">
                        <h4>üí∞ C√°lculo do Pre√ßo</h4>
                        <div class="calculo-detalhado">
                            <div class="calculo-linha">
                                <span>Pre√ßo Base:</span>
                                <span class="calculo-valor">R$ ${precoBase.toFixed(2)}</span>
                            </div>
                            <div class="calculo-linha">
                                <span>Custo por KM (R$ ${precoPorKm} √ó ${rota.distancia_km.toFixed(2)} km):</span>
                                <span class="calculo-valor">R$ ${(precoPorKm * rota.distancia_km).toFixed(2)}</span>
                            </div>
                            <div class="calculo-linha destaque">
                                <span>Subtotal:</span>
                                <span class="calculo-valor">R$ ${subtotal.toFixed(2)}</span>
                            </div>
                            <div class="calculo-linha">
                                <span>Multiplicador Total (${multTransito} √ó ${multClima} √ó ${multHorario} √ó ${multDia}):</span>
                                <span class="calculo-valor">x${multiplicadorTotal.toFixed(2)}</span>
                            </div>
                        </div>
                    </div>

                    <div class="resultado-preco">
                        <span>Pre√ßo Final Estimado:</span>
                        <span class="preco-valor">R$ ${precoFinal.toFixed(2)}</span>
                    </div>
                    <small class="resultado-nota">üí° Este √© um valor estimado. O pre√ßo final pode variar dependendo de condi√ß√µes em tempo real.</small>
                </div>
            `;
        }

        // Event listener para o formul√°rio
        document.getElementById('simuladorForm').addEventListener('submit', simular);
    </script>

</body>

</html>
