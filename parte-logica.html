<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Parte L√≥gica - Como funciona o Uber?</title>
</head>

<body>
    <header class="hero">
        <div class="container">
            <div class="header-logo">
                <img src="assets/img/logo2.0.png" alt="cuBer Logo" class="logo-img">
            </div>
            <h1>A Parte L√≥gica do Uber</h1>
            <p class="lead">Descubra os algoritmos, arquitetura e tecnologias que conectam milh√µes de pessoas em tempo real</p>

            <nav class="main-nav" aria-label="Navega√ß√£o principal">
                <a href="index.html" class="nav-btn">In√≠cio</a>
                <a href="detalhes.html" class="nav-btn">Como funciona</a>
                <a href="parte-logica.html" class="nav-btn active">Parte l√≥gica</a>
                <a href="sobreNos.html" class="nav-btn">Sobre n√≥s</a>
            </nav>

            <div class="hero-features" style="margin-top:18px">
                <div class="feature feature-interactive">
                    <div class="icon">üó∫Ô∏è</div>
                    <div>
                        <h4>Geolocaliza√ß√£o</h4>
                        <p class="muted">Rastreamento em tempo real via GPS</p>
                    </div>
                </div>
                <div class="feature feature-interactive">
                    <div class="icon">‚öôÔ∏è</div>
                    <div>
                        <h4>Algoritmos Inteligentes</h4>
                        <p class="muted">Matchmaking e roteamento otimizado</p>
                    </div>
                </div>
                <div class="feature feature-interactive">
                    <div class="icon">üìä</div>
                    <div>
                        <h4>Big Data</h4>
                        <p class="muted">An√°lise e previs√£o em tempo real</p>
                    </div>
                </div>
            </div>

            <div class="cta-row" style="margin-top:20px">
                <a class="btn btn-primary" href="simulacao.html">Simular uma corrida</a>
                <a class="btn secondary" href="detalhes.html">Ver detalhes</a>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Se√ß√£o de Introdu√ß√£o -->
        <section class="intro-section">
            <div class="intro-content">
                <h2>Como a tecnologia conecta tudo?</h2>
                <p>O Uber n√£o √© apenas um app. Por tr√°s das cortinas, funciona uma arquitetura complexa que processa milhares de eventos por segundo, conectando passageiros e motoristas de forma inteligente e eficiente.</p>
                
                <div class="quick-stats">
                    <div class="stat-box">
                        <span class="stat-value">100k+</span>
                        <span class="stat-name">Eventos/minuto</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-value">&lt;30s</span>
                        <span class="stat-name">Tempo de matching</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-value">99.99%</span>
                        <span class="stat-name">Disponibilidade</span>
                    </div>
                </div>
            </div>

            <aside class="intro-visual">
                <div class="visual-container">
                    <img src="assets/img/fluxograma.png" alt="Fluxograma do sistema Uber" class="preview-img">
                </div>
            </aside>
        </section>

        <!-- Se√ß√£o dos 4 Pilares Principais -->
        <section class="topics-section">
            <h2>Os 4 Pilares Tecnol√≥gicos</h2>
            <div class="topics-grid">
                <div class="topic-card topic-card-interactive">
                    <div class="topic-icon">üìç</div>
                    <h3>1. Geolocaliza√ß√£o</h3>
                    <p class="muted">GPS e mapas em tempo real para rastrear motoristas e passageiros. O sistema atualiza a posi√ß√£o a cada segundo com precis√£o de metros.</p>
                    <a href="#" class="topic-link">Ver tecnologia ‚Üí</a>
                </div>

                <div class="topic-card topic-card-interactive">
                    <div class="topic-icon">ü§ñ</div>
                    <h3>2. Matchmaking</h3>
                    <p class="muted">Algoritmo que escolhe o melhor motorista considerando proximidade, hist√≥rico, capacidade e aceita√ß√£o. Tudo em milissegundos.</p>
                    <a href="#matchmaking" class="topic-link">Ver algoritmo ‚Üí</a>
                </div>

                <div class="topic-card topic-card-interactive">
                    <div class="topic-icon">üõ£Ô∏è</div>
                    <h3>3. Roteamento</h3>
                    <p class="muted">C√°lculo de rotas otimizadas usando dados de tr√°fego em tempo real. Integra√ß√µes com OSRM e Google Maps para melhor ETA.</p>
                    <a href="#routing" class="topic-link">Ver detalhes ‚Üí</a>
                </div>

                <div class="topic-card topic-card-interactive">
                    <div class="topic-icon">üí∞</div>
                    <h3>4. Precifica√ß√£o</h3>
                    <p class="muted">Modelo din√¢mico que considera dist√¢ncia, demanda, tr√¢nsito, clima e hor√°rio. Transparente e justo para ambas as partes.</p>
                    <a href="simulacao.html" class="topic-link">Simular pre√ßo ‚Üí</a>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Banco de Dados -->
        <section class="db-section" style="margin-top:80px">
            <h2>A Base de Dados: O Cora√ß√£o do Sistema</h2>
            <div class="db-content">
                <div class="db-visual">
                    <img src="assets/img/banco.png" alt="Diagrama de banco de dados" class="preview-img">
                </div>
                
                <div class="db-info">
                    <h3>Entidades Principais</h3>
                    
                    <div class="entity-card">
                        <h4>üë§ Usu√°rio</h4>
                        <p>Armazena dados do passageiro: ID, nome, email, rating, m√©todos de pagamento e hist√≥rico de viagens.</p>
                    </div>

                    <div class="entity-card">
                        <h4>üöó Motorista</h4>
                        <p>Informa√ß√µes do motorista: documentos, localiza√ß√£o em tempo real, status (online/offline), rating e renda.</p>
                    </div>

                    <div class="entity-card">
                        <h4>üõ£Ô∏è Viagem</h4>
                        <p>Detalhes de cada corrida: origem, destino, dist√¢ncia, dura√ß√£o, pre√ßo final, timestamp e status.</p>
                    </div>

                    <div class="entity-card">
                        <h4>‚≠ê Avalia√ß√£o</h4>
                        <p>Sistema de rating bilateral: passageiro avalia motorista e vice-versa. Essencial para manter qualidade.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Matchmaking -->
        <section id="matchmaking" style="margin-top:80px">
            <h2>Como Funciona o Matchmaking?</h2>
            <div class="flow-steps" style="margin-top:32px">
                <div class="flow-item">
                    <div class="flow-number">1</div>
                    <h4>Solicita√ß√£o</h4>
                    <p>Passageiro envia origem e destino</p>
                </div>

                <div class="flow-arrow">‚Üí</div>

                <div class="flow-item">
                    <div class="flow-number">2</div>
                    <h4>Filtragem</h4>
                    <p>Sistema identifica motoristas pr√≥ximos</p>
                </div>

                <div class="flow-arrow">‚Üí</div>

                <div class="flow-item">
                    <div class="flow-number">3</div>
                    <h4>Ordena√ß√£o</h4>
                    <p>Calcula ETA e prioriza os melhores</p>
                </div>

                <div class="flow-arrow">‚Üí</div>

                <div class="flow-item">
                    <div class="flow-number">4</div>
                    <h4>Oferta</h4>
                    <p>Envia proposta para motorista aceitar</p>
                </div>
            </div>

            <div class="card card-body" style="margin-top:32px">
                <h3 style="margin-top:0">Pseudoc√≥digo do Algoritmo</h3>
                <pre class="formula-box"><code>function findBestDriver(request, drivers) {
    // 1. Filtrar motoristas dispon√≠veis em raio de 15km
    const candidates = drivers.filter(d => 
        d.available && 
        distance(d.location, request.origin) < 15000
    );
    
    // 2. Calcular score para cada candidato
    candidates = candidates.map(d => ({
        driver: d,
        score: (d.rating * 0.4) +
               (1 / eta(d, request) * 0.6)
    }));
    
    // 3. Retornar o melhor
    return candidates.sort((a, b) => 
        b.score - a.score
    )[0].driver;
}</code></pre>
            </div>
        </section>

        <!-- Se√ß√£o Roteamento -->
        <section id="routing" style="margin-top:80px">
            <h2>Roteamento e Estimativas de Tempo</h2>
            <div class="topics-grid" style="grid-template-columns: 1fr 1fr; margin-top:32px">
                <div class="topic-card">
                    <div class="topic-icon">üó∫Ô∏è</div>
                    <h3>APIs Usadas</h3>
                    <ul style="margin-top:12px; color:var(--muted); text-align:left">
                        <li>‚úì OSRM: Roteamento r√°pido e livre</li>
                        <li>‚úì Nominatim: Geocoding e reverso</li>
                        <li>‚úì Google Maps: Tr√°fego em tempo real</li>
                        <li>‚úì OpenStreetMap: Dados de ruas</li>
                    </ul>
                </div>

                <div class="topic-card">
                    <div class="topic-icon">üìà</div>
                    <h3>Fatores Considerados</h3>
                    <ul style="margin-top:12px; color:var(--muted); text-align:left">
                        <li>‚úì Velocidade m√©dia por trecho</li>
                        <li>‚úì Hor√°rio do dia</li>
                        <li>‚úì Condi√ß√µes clim√°ticas</li>
                        <li>‚úì Hist√≥rico de congestionamento</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Precifica√ß√£o Din√¢mica -->
        <section style="margin-top:80px">
            <h2>A F√≥rmula da Precifica√ß√£o</h2>
            <div class="exemplo-box" style="margin-top:32px">
                <div class="exemplo-item">
                    <div class="exemplo-label">Pre√ßo Base</div>
                    <div class="exemplo-valor">R$ 5,00</div>
                </div>
                <div class="exemplo-calculo">+</div>
                <div class="exemplo-item">
                    <div class="exemplo-label">Pre√ßo/km</div>
                    <div class="exemplo-valor">R$ 1,80 √ó km</div>
                </div>
                <div class="exemplo-calculo">√ó</div>
                <div class="exemplo-item exemplo-final">
                    <div class="exemplo-label">Multiplicador Din√¢mico</div>
                    <div class="exemplo-valor">1.0 ~ 1.5x</div>
                </div>
            </div>

            <div class="fatores-grid" style="margin-top:40px">
                <div class="fator-card">
                    <div class="fator-icon">‚è∞</div>
                    <h3>Hor√°rio</h3>
                    <ul class="fator-list">
                        <li>Pico matinal (6-9h): <strong>+20%</strong></li>
                        <li>Normal: <strong>0%</strong></li>
                        <li>Pico noite (17-20h): <strong>+30%</strong></li>
                        <li>Madrugada: <strong>+50%</strong></li>
                    </ul>
                </div>

                <div class="fator-card">
                    <div class="fator-icon">üöó</div>
                    <h3>Tr√¢nsito</h3>
                    <ul class="fator-list">
                        <li>Leve: <strong>0%</strong></li>
                        <li>Moderado: <strong>+10%</strong></li>
                        <li>Pesado: <strong>+20%</strong></li>
                        <li>Congestionamento: <strong>+30%</strong></li>
                    </ul>
                </div>

                <div class="fator-card">
                    <div class="fator-icon">‚òÅÔ∏è</div>
                    <h3>Clima</h3>
                    <ul class="fator-list">
                        <li>Bom: <strong>0%</strong></li>
                        <li>Nublado: <strong>+3%</strong></li>
                        <li>Chuva: <strong>+12%</strong></li>
                        <li>Tempestade: <strong>+25%</strong></li>
                    </ul>
                </div>

                <div class="fator-card">
                    <div class="fator-icon">üìÖ</div>
                    <h3>Dia da Semana</h3>
                    <ul class="fator-list">
                        <li>Seg-Qui: <strong>0%</strong></li>
                        <li>Sexta: <strong>+12%</strong></li>
                        <li>S√°bado: <strong>+18%</strong></li>
                        <li>Domingo: <strong>+25%</strong></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Seguran√ßa e Privacidade -->
        <section style="margin-top:80px">
            <h2>Seguran√ßa e Privacidade</h2>
            <div class="topics-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="topic-card">
                    <div class="topic-icon">üîí</div>
                    <h3>Prote√ß√£o de Dados</h3>
                    <ul style="margin-top:12px; color:var(--muted); text-align:left">
                        <li>‚úì Criptografia TLS/SSL</li>
                        <li>‚úì Hashing de senhas</li>
                        <li>‚úì Tokens JWT seguros</li>
                        <li>‚úì Conformidade LGPD</li>
                    </ul>
                </div>

                <div class="topic-card">
                    <div class="topic-icon">üõ°Ô∏è</div>
                    <h3>Controles de Acesso</h3>
                    <ul style="margin-top:12px; color:var(--muted); text-align:left">
                        <li>‚úì Autentica√ß√£o multi-fator</li>
                        <li>‚úì Roles e permiss√µes</li>
                        <li>‚úì Logs de auditoria</li>
                        <li>‚úì Detec√ß√£o de fraude</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de CTA Final -->
        <section class="final-cta" style="margin-top:80px">
            <h2>Quer Entender Melhor?</h2>
            <p>Explore na pr√°tica como o algoritmo do Uber funciona usando nosso simulador interativo.</p>
            <div class="cta-buttons">
                <a class="btn btn-primary" href="simulacao.html">Fazer Simula√ß√£o</a>
                <a class="btn secondary" href="detalhes.html">Ver Todos os Detalhes</a>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">&copy; 2025 ‚Äî Explica√ß√£o did√°tica sobre a parte l√≥gica do Uber.</div>
    </footer>

    <!-- Image modal / lightbox -->
    <div id="imgModal" class="img-modal-overlay" aria-hidden="true">
        <div class="img-modal-wrap" role="dialog" aria-modal="true" aria-label="Imagem ampliada">
            <button id="imgModalClose" class="img-modal-close" aria-label="Fechar">‚úï</button>
            <img id="imgModalImg" src="" alt="Diagrama ampliado" />
        </div>
    </div>

    <script>
    (function(){
        const previews = Array.from(document.querySelectorAll('.preview-img'));
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('imgModalImg');
        const closeBtn = document.getElementById('imgModalClose');

        if(!modal || previews.length === 0) return;

        function openModalWith(src, alt){
            modalImg.src = src;
            modalImg.alt = alt || '';
            modal.classList.add('active');
            modal.setAttribute('aria-hidden','false');
            closeBtn.focus();
            document.body.style.overflow = 'hidden';
        }

        function closeModal(){
            modal.classList.remove('active');
            modal.setAttribute('aria-hidden','true');
            modalImg.src = '';
            document.body.style.overflow = '';
        }

        previews.forEach(img => {
            img.style.cursor = 'zoom-in';
            img.addEventListener('click', () => openModalWith(img.src, img.alt));
            img.addEventListener('keypress', (e) => { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModalWith(img.src, img.alt); }});
        });

        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', function(e){ if(e.target === modal) closeModal(); });
        document.addEventListener('keydown', function(e){ if(e.key === 'Escape' && modal.classList.contains('active')) closeModal(); });
    })();
    </script>

</body>

</html>